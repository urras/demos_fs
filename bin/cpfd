#! /bin/csh
# Копирование с дискетты на дискетту
# cpfd 0 1 - с привода 0 на привод 1
# (c) Руднев А.П.
unalias *
clear
echo "Копирование дискетт с устройства номер $1 на устройство номер $2"
set dv0=/dev/rfd$1
set dv1=/dev/rfd$2
if ( ! -e $dv0 || ! -e $dv1 || $dv0 == $dv1 ) then
echo "Ошибка аргумента или неправильно описаны устройства"
echo "Обращение:  cpfd N0 N1, где N0 и N1 - номера приводов (0/1)"
exit 1
endif
start:
echo -n "\
\
\
<\
#3Вставьте исходную дискету\
#4Вставьте исходную дискету\
#3в устройство $1\
#4в устройство $1\
\
#3Вставьте дискету для записи\
#4Вставьте дискету для записи\
#3в устройство $2\
#4в устройство $2\
\
[?2l\
Нажмите <ВК>, для выхода нажмите СУ/C. ??"
set a=$<
dd if=$dv0 of=$dv1 bs=10k count=80
if ( $status == 0 ) then
echo Готово
else
echo "Были ошибки"
endif
echo -n "Еще переписать? (y/n)[y]"
set a=$<
if ( x$a != xn ) then
goto start
endif
exit 0
